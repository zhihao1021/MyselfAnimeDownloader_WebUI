# 開發日誌
### MyselfAnimeDownloader WebUI開發日誌，最後更新日期`2022/12/29`
> 這是我第一次寫開發日誌，如果有不清楚的地方還請見諒。
---

<style>
    p {
        text-indent: 2em;
    }
</style>

## TODO Summary
> 詳細下一次做甚麼會寫在每次更新的日誌中

1. 新增單元測試(Unit Testing)
2. ~~新增m3u8下載器~~ 2022/12/28
3. 移植Web UI
4. 後端重構
5. 連結SQL Database紀錄下載

---

## 2022/12/29
```
---Log---
1. M3U8下載器錯誤重試功能完成。
2. 新增移除暫存資料夾中空資料夾的功能。
3. 改變檢查資料夾是否存在的時機。

```
### 2022/12/29 Dev's Diary


---

## 2022/12/28
```
---Log---
1. async_io/async_requests中new_session的Timeout修改為conn_timeout
2. 補上modules/m3u8.py的註解。
3. myself.py單元測試完成。
4. 修正資料抓取效率。
5. 修正Websocket傳送的資料。
6. M3U8下載器完成。

# 核心功能重構得差不多了。

```
### 2022/12/28 Dev's Diary
M3U8下載器完成了，主要是找到請求資料需要在標頭中增加`"referer": "https://v.myself-bbs.com/"`，然後居然花了一節課在處理Stream的問題，結果只是因為Session被關掉了😂。

昨天丁丁說Python的List在append的時候，用`data_ = data.append;data_("")`會比較快，太酷了吧。

今天晚上都在處理測試檔被誤Commit的問題😆，最後是參考[這篇文章](https://blog.darkthread.net/blog/rm-files-from-git-history/)解決的。

今天中午又吃雞肉飯😑。

現在時間是2022/12/28 23:56 先這樣吧，好像睡覺，寫程式的精神消耗比想像中的大。

---

## 2022/12/25
```
---Log---
1. myself.py重構完成。
2. 將Myself method更改為非同步(async)。
3. 新增MyselfAnime類別，用以儲存每一個影片的資料(tid, vid, m3u8_url)。
4. 新增MyselfAnimeTable類別，用以儲存動畫資料(網址, 名稱, 資料...)。
5. 導入自製通用模組modules.json。
6. 導入自製通用模組modules.threading_。
7. 導入自製通用模組configs.logging_config。
8. 導入自製通用模組configs.config。
9. config.py設定內容修改完成。
10.新增async_io.async_requests.py，用以發送非同步請求。
11.新增READMD.md
12.新增UpdateLog.md
13.將debug.html加到.gitignore

---TODO Detail---
1. 單元測試
2. m3u8下載器
```
### 2022/12/25 Dev's Diary
這裡預計會寫兩次更新之間的一些瑣事，就像日記那樣。

前幾天剛看完八目迷的"在昨日的春天等待你"，很好看，描寫很細膩，雖然幾乎沒有插圖，但是能夠想像出畫面，值得入手。

前天下午把實驗室的音源線重新接回去了，還好有學長留下來的3.5mm插孔座，然後第一次用那把新來的電烙鐵，超好用，焊錫很快就融了，重接線大概3分鐘而已。是說實驗室裡居然連焊錫都找不到，也是很扯，其他找不到的還有各種杜邦線跟3.5mm音源線，找東西就找了快一個小時😑。

昨天在做動態語音機器人，其實還有一點沒做完，但我覺得剩下的功能沒有到很必要就暫時停止了，所以那邊其實可以算是告一段落了😆。

今天是聖誕節(但我只有一個人QQ)，凌晨的孤獨搖滾正常播出了，感謝巴哈，不然原本要等到禮拜一，可是這是最後一集了，我需要第二季😭。

早上起來，天氣一樣很冷，早上9點多起床就開始重啟這個專案了(怎麼那麼可悲)，前陣子Myself宣布恢復營運了，所以這個專案又有了存在的意義，這也是在看完O'REILLY那本Python非同步教學之後，第一次用在實作，雖然它的翻譯寫的很文言，但多少都還是有幫助的。

明天又要上課了，早上的公假還沒請好，不知道會不會又有一堆不知道從哪裡來的模考要寫🙃，多寫又不會多一級分，而且又不是每個人都要採計全科，真的搞不懂他在想什麼欸。

好啦，這一次就先到這裡，好像有點太多了😂，之後應該不會有這麼多，就這樣吧，現在時間是2022/12/25 23:09分，晚安。
